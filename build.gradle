plugins {
    id "java"
    id 'info.solidsoft.pitest' version '1.3.0'
}

ext {
    assertjVersion = "3.11.1"
    junit4Version = '4.12'
    junitJupiterVersion = "5.3.1"
    junitVintageVersion = '5.3.1'
    mockitoVersion = "2.22.0"
    approvaltestsVersion = "2.0.0"
}

repositories {
    jcenter()
}

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

pitest {
    targetClasses = ['com.gildedrose.*']
    threads = 4
    outputFormats = ['XML', 'HTML']
    timestampedReports = false
}

dependencies {

    testCompile ("com.approvaltests:approvaltests:$approvaltestsVersion")
    testCompile ("org.assertj:assertj-core:$assertjVersion" )
    testCompile ("junit:junit:${junit4Version}")

    testImplementation("org.junit.jupiter:junit-jupiter-api:$junitJupiterVersion")
    testImplementation("org.mockito:mockito-core:$mockitoVersion")

    testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine:$junitJupiterVersion")
    testRuntimeOnly("org.junit.vintage:junit-vintage-engine:${junitVintageVersion}")
}


